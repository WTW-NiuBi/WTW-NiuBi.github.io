<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-dijkstra算法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/21/dijkstra%E7%AE%97%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2022-10-21T06:54:29.000Z" itemprop="datePublished">2022-10-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/21/dijkstra%E7%AE%97%E6%B3%95/">dijkstra算法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Dijkstra算法一般用于求解<strong>最短路</strong>问题</p>
<p>Dijkstra算法适用于<strong>边权为正</strong>的情况（为什么不能为负权？——贪心算法只能求局部最优解）</p>
<p>下面给出Dijkstra算法的伪代码，它可用于计算正权图上的<strong>单源最短路</strong>，即从单个源点出发，到所有结点的的最短路。该算法同时适用于<strong>有向图和无向图</strong>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">清除所有点的标号</span><br><span class="line">设d[0] = 0，其他d[i] = INF</span><br><span class="line">循环n次&#123;</span><br><span class="line">	在所有未标号结点中，选出d值最小的结点x</span><br><span class="line">	给结点x标记</span><br><span class="line">	对于从x出发的所有边(x,y)，更新d[y] = min(d[y],d[x] + w(x,y))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面是伪代码对应的程序。假设起点是0，它到结点<code>i</code>的路径长度为<code>d[i]</code>。未标号结点的<code>v[i] = 0</code>，已标号的结点的<code>v[i] = 1</code>。为了简单起见，用<code>w[x][y] == INF</code>表示边<code>(x,y)</code>不存在。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">memtset(v,<span class="number">0</span>,<span class="keyword">sizeof</span>(v));</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)d[i] = ((i == <span class="number">0</span>) ? <span class="number">0</span> : INF);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)&#123;</span><br><span class="line">	<span class="type">int</span> x,m = INF;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">0</span>;y &lt; n;y++)<span class="keyword">if</span>(!v[u] &amp;&amp; d[y] &lt;= m)m = d[x = y];</span><br><span class="line">    v[x] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">0</span>;y &lt; n;y++)d[y] = min(d[y],d[x] + w[x][y]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>例：</strong>现在有如下一图</p>
<p><img src="/img/dijkstra/1.png" alt="图1"></p>
<p>求结点0到各个端点的最短距离，输出其最短距离的数组。</p>
<p><strong>思路：</strong>使用dijkstra算法，手动模拟后得到的dis数组如下图：</p>
<p><img src="/img/dijkstra/2.png" alt="图2"></p>
<p><strong>参考代码：</strong></p>
<p>这里用vector的邻接矩阵存图实现的完整代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> inf INT_MAX</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 1000010</span></span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dijkstra</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; G,<span class="type">int</span> s)</span></span>&#123;</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="type">int</span> n = G.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dis</span><span class="params">(n,inf)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vis</span><span class="params">(n,<span class="literal">false</span>)</span></span>;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n - <span class="number">1</span>;i++)&#123;<span class="comment">//最后一个结点不需要遍历</span></span><br><span class="line">        <span class="type">int</span> node = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; (node == <span class="number">-1</span> || dis[j] &lt; dis[node]))node = j;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">            dis[j] = <span class="built_in">min</span>(dis[j],dis[node] + G[node][j]);</span><br><span class="line">        vis[node] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">G</span>(n,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">            cin&gt;&gt;G[i][j];</span><br><span class="line">    <span class="keyword">auto</span> dis = <span class="built_in">dijkstra</span>(G,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i : dis)cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果需要输出路径，则可加上<strong>path数组</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> inf INT_MAX</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 1000010</span></span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt;path;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dijkstra</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; G,<span class="type">int</span> s)</span></span>&#123;</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="type">int</span> n = G.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dis</span><span class="params">(n,inf)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vis</span><span class="params">(n,<span class="literal">false</span>)</span></span>;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n - <span class="number">1</span>;i++)&#123;<span class="comment">//最后一个结点不需要遍历</span></span><br><span class="line">        <span class="type">int</span> node = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; (node == <span class="number">-1</span> || dis[j] &lt; dis[node]))node = j;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">            <span class="comment">// dis[j] = min(dis[j],dis[node] + G[node][j]);</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(dis[j] &gt; dis[node] + G[node][j])&#123;</span><br><span class="line">                    dis[j] = dis[node] + G[node][j];</span><br><span class="line">                    path[j] = node;<span class="comment">//记录结点</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        vis[node] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//递归输出结点</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_path</span><span class="params">(<span class="type">int</span> x,vector&lt;<span class="type">int</span>&gt; &amp;P)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!x)&#123;</span><br><span class="line">        P.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(path[x] != <span class="number">-1</span>)<span class="built_in">get_path</span>(path[x],P);</span><br><span class="line">    P.<span class="built_in">push_back</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    path = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n,<span class="number">-1</span>);</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">G</span>(n,<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">            cin&gt;&gt;G[i][j];</span><br><span class="line">    <span class="keyword">auto</span> dis = <span class="built_in">dijkstra</span>(G,<span class="number">0</span>);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; P;</span><br><span class="line">    <span class="built_in">get_path</span>(<span class="number">6</span>,P);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i : P)cout&lt;&lt;i&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不难看出，上面程序的时间复杂度为<code>O(n^2)</code>，循环体一共执行了n次，而在每次循环中，“求最小d值”和“更新其他d值”均是<code>O(n)</code>的。</p>
<p>下面介绍使用<strong>邻接表 + 优先队列</strong>（堆优化）将其优化到<code>O(mlogn)</code>的代码</p>
<p>前置知识：1.最小堆；2.邻接表</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> inf INT_MAX</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 1000010</span></span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; edge,weight,Next,head;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dijkstra</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dis</span><span class="params">(n,inf)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">vis</span><span class="params">(n,<span class="literal">false</span>)</span></span>;</span><br><span class="line">    dis[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;,vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;,greater&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt; mh;<span class="comment">//pair&lt;int,int&gt; first:dis second:node</span></span><br><span class="line">    mh.<span class="built_in">push</span>(&#123;dis[<span class="number">0</span>],<span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(mh.<span class="built_in">size</span>())&#123;</span><br><span class="line">        <span class="type">int</span> node = mh.<span class="built_in">top</span>().second;</span><br><span class="line">        mh.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(vis[node])<span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = head[node];~i;i = Next[i])&#123;</span><br><span class="line">            <span class="keyword">if</span>(dis[edge[i]] &gt; dis[node] + weight[i])&#123;</span><br><span class="line">                dis[edge[i]] = dis[node] + weight[i];</span><br><span class="line">                mh.<span class="built_in">push</span>(&#123;dis[edge[i]],edge[i]&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vis[node] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> idx = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add_edge</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> w)</span></span>&#123;</span><br><span class="line">    edge[idx] = b;</span><br><span class="line">    weight[idx] = w;</span><br><span class="line">    Next[idx] = head[a];</span><br><span class="line">    head[a] = idx++; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    head = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n,<span class="number">-1</span>);</span><br><span class="line">    edge = weight = Next = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(m,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="type">int</span> a,b,w;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;w;</span><br><span class="line">        <span class="built_in">add_edge</span>(a,b,w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> dis = <span class="built_in">dijkstra</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i : dis)cout&lt;&lt;i&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后补充一点：即使是稠密图，使用<code>Priority_queue</code>实现的<code>Dijkstra</code>算法也常常比基于临界矩阵的<code>Dijkstra</code>算法的运算速度快。理由很简单，执行<code>push</code>操作的前提是<code>dis[edge[i]] &gt; dis[node] + weight[i]</code>，如果这个式子不成立，则<code>push</code>操作会很少。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/10/21/dijkstra%E7%AE%97%E6%B3%95/" data-id="clwdo6pgy0014k4txe1sleqdv" data-title="dijkstra算法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-st表" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/12/st%E8%A1%A8/" class="article-date">
  <time class="dt-published" datetime="2022-10-12T11:40:53.000Z" itemprop="datePublished">2022-10-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/12/st%E8%A1%A8/">st表</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="一、什么是ST表"><a href="#一、什么是ST表" class="headerlink" title="一、什么是ST表"></a>一、什么是ST表</h2><p>ST表是一种基于倍增思想，用于解决可重复贡献问题的数据结构，又名稀疏表。</p>
<p>ST表应用最广泛的领域便是解决RMQ(Range Maximum&#x2F;Minimum Question)问题：给定n个数，m个询问，对于每个询问，需要回答区间[ l , r ]中的最大值或最小值(可以采用两个数组同时进行处理)。</p>
<p>基于倍增的思想，ST表可以实现<code>O(nlogn)</code>下进行预处理，并在0 ( 1 ) 0(1)0(1)时间内回答每个询问。如果仅仅进行区间最值查询，ST表的效率完全吊打线段树；但是，相比于线段树，ST表并不支持修改操作，无论是单点修改还是区间修改都不支持。</p>
<h2 id="二、ST表的原理和实现"><a href="#二、ST表的原理和实现" class="headerlink" title="二、ST表的原理和实现"></a>二、ST表的原理和实现</h2><p>本质是动态规划</p>
<p>我们定义<code>f[i][j]</code>表示区间<code>[i,i + 2 ^ j - 1]</code>的最大值，那么显然<code>f[i][0] = a[i]</code><br>那么我们可以根据倍增的思路给出状态转移方程：<code>f(i,j) = max(f(i,j - 1),f(i + 2 ^ (j - 1),j - 1))</code></p>
<p><img src="/img/st%E8%A1%A8/1.png" alt="图1"></p>
<p>而对于询问<code>[l,r]</code>，我们将其分成两部分<code>f[l,l+2 s−1]</code>和<code>f[r−2 s+1,r]</code>，即为两个子区间。由于RMQ属于可重复贡献问题，因此不必使两个区间不相交。</p>
<p>但显然，我们需要使第一个字区间的右端点尽可能的接近<code>r</code>,那么不妨直接令<code>l + 2^s - 1 = r</code>，那么可以得到<code>s=log2(r−l+1)</code>；同时，我们希望第二个区间的左端点尽可能地接近<code>l</code>，也就是<code>r - 2^s + 1 = l</code>，发现于上一个式子使完全相同的，因此只需要取<code>log2(r−l+1)</code>即可。但显然这样的s ss不是整数，那么我们直接取向下取整即可，此时的s ss仍能保证两个子区间完全覆盖整个区间。</p>
<h2 id="三、ST表RMQ模板"><a href="#三、ST表RMQ模板" class="headerlink" title="三、ST表RMQ模板"></a>三、ST表RMQ模板</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 2000010</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> stmax[N][<span class="number">22</span>], stmin[N][<span class="number">22</span>], mn[N]，a[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> q, n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    mn[<span class="number">0</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        mn[i] = ((i &amp; (i - <span class="number">1</span>)) == <span class="number">0</span>) ? mn[i - <span class="number">1</span>] + <span class="number">1</span> : mn[i - <span class="number">1</span>];</span><br><span class="line">        stmax[i][<span class="number">0</span>] = stmin[i][<span class="number">0</span>] = a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= mn[n]; j++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span> &lt;&lt; j) - <span class="number">1</span> &lt;= n; i++)&#123;</span><br><span class="line">            stmax[i][j] = <span class="built_in">max</span>(stmax[i][j - <span class="number">1</span>], stmax[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">            stmin[i][j] = <span class="built_in">min</span>(stmin[i][j - <span class="number">1</span>], stmin[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">rmq_max</span><span class="params">(<span class="type">int</span> L, <span class="type">int</span> R)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = mn[R - L + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(stmax[L][k], stmax[R - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">rmq_min</span><span class="params">(<span class="type">int</span> L, <span class="type">int</span> R)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = mn[R - L + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(stmin[L][k], stmin[R - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="type">int</span> l, r; cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">rmq_max</span>(l, r) &lt;&lt; <span class="built_in">rmq_min</span>(l, r) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="四、ST表例题"><a href="#四、ST表例题" class="headerlink" title="四、ST表例题"></a>四、ST表例题</h2><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3865">P3865 【模板】ST 表</a></p>
<h3 id="题目背景"><a href="#题目背景" class="headerlink" title="题目背景"></a><strong>题目背景</strong></h3><p>这是一道 ST 表经典题——静态区间最大值</p>
<p><strong>请注意最大数据时限只有 0.8s，数据强度不低，请务必保证你的每次查询复杂度为 $O(1)$。若使用更高时间复杂度算法不保证能通过。</strong></p>
<p>如果您认为您的代码时间复杂度正确但是 TLE，可以尝试使用快速读入：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> x=<span class="number">0</span>,f=<span class="number">1</span>;<span class="type">char</span> ch=<span class="built_in">getchar</span>();</span><br><span class="line">	<span class="keyword">while</span> (ch&lt;<span class="string">&#x27;0&#x27;</span>||ch&gt;<span class="string">&#x27;9&#x27;</span>)&#123;<span class="keyword">if</span> (ch==<span class="string">&#x27;-&#x27;</span>) f=<span class="number">-1</span>;ch=<span class="built_in">getchar</span>();&#125;</span><br><span class="line">	<span class="keyword">while</span> (ch&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;x=x*<span class="number">10</span>+ch<span class="number">-48</span>;ch=<span class="built_in">getchar</span>();&#125;</span><br><span class="line">	<span class="keyword">return</span> x*f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数返回值为读入的第一个整数。</p>
<p><strong>快速读入作用仅为加快读入，并非强制使用。</strong></p>
<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a><strong>题目描述</strong></h3><p>给定一个长度为 $N$ 的数列，和 $ M $ 次询问，求出每一次询问的区间内数字的最大值。</p>
<h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3><p>第一行包含两个整数 $N,M$，分别表示数列的长度和询问的个数。</p>
<p>第二行包含 $N$ 个整数（记为 $a_i$），依次表示数列的第 $i$ 项。</p>
<p>接下来 $M$ 行，每行包含两个整数 $l_i,r_i$，表示查询的区间为 $[l_i,r_i]$。</p>
<h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出包含 $M$ 行，每行一个整数，依次表示每一次询问的结果。</p>
<h3 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h3><p><strong>样例输入 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">8 8</span><br><span class="line">9 3 1 7 5 6 0 8</span><br><span class="line">1 6</span><br><span class="line">1 5</span><br><span class="line">2 7</span><br><span class="line">2 6</span><br><span class="line">1 8</span><br><span class="line">4 8</span><br><span class="line">3 7</span><br><span class="line">1 8</span><br></pre></td></tr></table></figure>

<p><strong>样例输出 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">9</span><br><span class="line">7</span><br><span class="line">7</span><br><span class="line">9</span><br><span class="line">8</span><br><span class="line">7</span><br><span class="line">9</span><br></pre></td></tr></table></figure>

<h3 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h3><p>对于 $30%$ 的数据，满足 $1\le N,M\le 10$。</p>
<p>对于 $70%$ 的数据，满足 $1\le N,M\le {10}^5$。</p>
<p>对于 $100%$ 的数据，满足 $1\le N\le {10}^5$，$1\le M\le 2\times{10}^6$，$a_i\in[0,{10}^9]$，$1\le l_i\le r_i\le N$。****</p>
<p><strong>样例代码</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 100005</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,a,b;</span><br><span class="line"><span class="type">int</span> dp[maxn][<span class="number">20</span>];</span><br><span class="line"><span class="type">int</span> len[maxn];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> p=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i&lt;&lt;=<span class="number">1</span>) p++;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;p;j++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i+(<span class="number">1</span>&lt;&lt;j<span class="number">-1</span>)&gt;n) dp[i][j]=dp[i][j<span class="number">-1</span>];</span><br><span class="line">			<span class="keyword">else</span> dp[i][j]=<span class="built_in">max</span>(dp[i][j<span class="number">-1</span>],dp[i+(<span class="number">1</span>&lt;&lt;j<span class="number">-1</span>)][j<span class="number">-1</span>]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;dp[i][<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">init</span>();</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">		<span class="type">int</span> k=<span class="built_in">log2</span>(b-a+<span class="number">1</span>);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="built_in">max</span>(dp[a][k],dp[b-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k]));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/10/12/st%E8%A1%A8/" data-id="clwdo6pha002ok4txa20ubosp" data-title="st表" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-静态测试与FMEA" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/08/%E9%9D%99%E6%80%81%E6%B5%8B%E8%AF%95%E4%B8%8EFMEA/" class="article-date">
  <time class="dt-published" datetime="2022-10-08T01:42:10.000Z" itemprop="datePublished">2022-10-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/08/%E9%9D%99%E6%80%81%E6%B5%8B%E8%AF%95%E4%B8%8EFMEA/">静态测试与FMEA</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="静态测试方法"><a href="#静态测试方法" class="headerlink" title="静态测试方法"></a>静态测试方法</h1><h2 id="人工静态方法"><a href="#人工静态方法" class="headerlink" title="人工静态方法"></a>人工静态方法</h2><p>人工静态方法检查代码错误，主要有代码走查、结对编程，以及同行评审这三种手段。</p>
<h3 id="代码走查"><a href="#代码走查" class="headerlink" title="代码走查"></a>代码走查</h3><p>代码走查（<strong>Code Review</strong>），是由开发人员检查自己的代码，尽可能多地发现各类潜在错误。但是，由于个人能力的差异，以及开发人员的“思维惯性”，很多错误并不能在这个阶段被及时发现。</p>
<h3 id="结对编程"><a href="#结对编程" class="headerlink" title="结对编程"></a>结对编程</h3><p>结对编程（<strong>Pair Programming</strong>），是一种敏捷软件开发的方法，一般是由两个开发人员结成对子在一台计算机上共同完成开发任务。其中，一个开发人员实现代码，通过被称为“驾驶员”；另一个开发人员审查输入的每一行代码，通常被称为“观察员”。当“观察员”对代码有任何疑问时，会立即要求“驾驶员”给出解释。解释过程中，“驾驶员”会意识到问题所在，进而修正代码设计和实现。实际执行过程中，这两个开发人员的角色会定期更换。</p>
<h3 id="同行评审"><a href="#同行评审" class="headerlink" title="同行评审"></a>同行评审</h3><p>同行评审（<strong>Peer Review</strong>），是指把代码递交到代码仓库，或者合并代码分支（Branch）到主干（Master）前，需要和你同技术级别或者更高技术级别的一个或多个同事对你的代码进行评审，只有通过所有评审后，你的代码才会被真正递交。如果你所在的项目使用 <code>GitHub</code> 管理代码，并采用 <code>GitFlow</code> 的分支管理策略，那么在递交代码或者分支合并时，需要先递交 Pull Request（PR），只有这个 PR 经过了所有评审者的审核，才能被合并。这也是同行评审的具体实践。目前，只要你采用 <code>GitFlow</code> 的分支管理策略，基本都会采用这个方式。</p>
<p>对于以上三种方式，使用最普遍的是<strong>同行评审</strong>。因为同行评审既能较好地保证代码质量，又不需要过多的人工成本投入，而且递交的代码出现问题后责任明确，另外代码的可追溯性也很好。结对编程的实际效果虽然不错，但是对人员的利用率比较低，通常被用于一些非常关键和底层算法的代码实现。</p>
<h2 id="自动静态方法"><a href="#自动静态方法" class="headerlink" title="自动静态方法"></a>自动静态方法</h2><p>自动静态方法具有自动化程度高，检查发现问题的成本低以及能够发现的代码问题广等特点，所以该方法被很多企业和项目广泛应用于前期代码质量控制和代码质量度量。</p>
<p>在实际工程实践中，企业往往会结合自己的编码规范定制规程库，并与本地 IDE 开发环境和持续集成的流水线进行高度整合。</p>
<p>代码本地开发阶段，IDE 环境就可以自动对代码实现自动静态检查；当代码递交到代码仓库后，CI&#x2F;CD 流水线也会自动触发代码静态检查，如果检测到潜在错误，就会自动邮件通知代码递交者。</p>
<p>自动静态方法通常能够以极低的成本发现以下问题：</p>
<blockquote>
<p>使用未初始化的变量；变量在使用前未定义；变量声明了但未使用；变量类型不匹配；部分的内存泄漏问题；空指针引用；缓冲区溢出；数组越界；不可达的僵尸代码；过高的代码复杂度；死循环；大量的重复代码块；</p>
</blockquote>
<blockquote>
<p> C 语言的自动静态扫描工具 splint</p>
<p>Python中可以pylint进行检查</p>
<p>主流的自动静态工具 Sonar</p>
</blockquote>
<p>（可以在IDE的plugin管理界面安装<code>SonarLint</code>，安装完重启IDE，可以在IDE环境中实时看到Sonar的静态分析结果，IDE 中绑定 <code>SonarQube</code>，就可以把 <code>SonarLint</code> 和 <code>SonarQube</code> 集成）</p>
<p>目前，自动静态扫描通常都会和持续集成的流水线做绑定，最常见的应用场景是当你递交代码后，持续集成流水线就会自动触发自动静态扫描，这一功能是通过 Jenkins 以及 Jenkins 上的 SonarQube 插件来完成的，当你在 Jenkins 中安装了 SonarQube Plugin，并且将 SonarQube 服务器相关的配置信息加入 Plugin 之后，你就可以在 Jenkins Job 的配置中增加 Sonar 静态扫描步骤了。</p>
<p>实践：要求每个开发提交代码前都需要做sonar扫描。</p>
<p>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/seanyang_/article/details/123782649">跳转</a></p>
<h1 id="FMEA"><a href="#FMEA" class="headerlink" title="FMEA"></a>FMEA</h1><h2 id="引入：通俗谈谈FMEA"><a href="#引入：通俗谈谈FMEA" class="headerlink" title="引入：通俗谈谈FMEA"></a>引入：通俗谈谈FMEA</h2><p>每当面对一个不可预知的情况时，有一些东西可以引导我们，消除我们的恐惧，避免可能出现的问题和后果 —- 这个东西就是FMEA，也就是潜在失效模式与效应分析（Potential Failure Mode and Effects Analysis）的缩写。</p>
<p>FMEA是一种试验错误的思维模式。这是什么意思？就是给你一个可能的错误列表，以及错误的结果和严重程度。然后，你看完之后说：哦，原来是这样！可怕，不要犯这些错误。</p>
<p>比如考驾照。每个人都应该知道教练脾气不好，从来不和你好好说话。我们经常可以看到下面的对话。</p>
<blockquote>
<p>教练:前面有一位老人，看见了吗？</p>
<p>学生:是的。</p>
<p>教练:来吧，加油门过去，撞他！</p>
<p>学生:教练，我<del>不</del>敢~</p>
<p>教练:不敢？不敢快踩刹车。</p>
</blockquote>
<p>看到了吗？教练教你踩刹车，不是直接告诉你“踩刹车，不要撞到行人”。而是用失败模式“来，杀了他！”，先告诉失败结果，形成警示，并让你对失败模式有更深的了解。那么你自己也有这种意识:“遇到行人，踩刹车减速”。这是FMEA。</p>
<p>所以FMEA肯定是在事情发生之前就已经完成了。打人的时候不会叫FMEA，而是返工和不好的改进。</p>
<p>FMEA如前所述，是为了避免一些陌生和不熟悉带来的问题。从两个方面:</p>
<p>对于全新的产品、设计和生产流程。所以人们对这些新事物并不熟悉。这时候，我们会提前从其他相关产品中梳理出常见的潜在问题，并加以防范，以便吸取以往的经验。</p>
<p>对于公司的新员工。FMEA是包含大量故障模式的文档。这是一份传达“试错”经验的文件。它可以回答“如果不按照要求做，会是什么样子？”这个问题。让他们快速了解生产过程和产品设计中的一些特殊控制项目，并遵守。</p>
<p>因此，FMEA必须在行动执行和产品进入下一阶段之前完成，为后续产品拓展提供参考资料。</p>
<h2 id="一-FMEA的目的和说明"><a href="#一-FMEA的目的和说明" class="headerlink" title="一.FMEA的目的和说明"></a>一.FMEA的目的和说明</h2><p>FMEA 是一套面向团队的系统的、定性分析方法，其目的是：</p>
<ul>
<li>评估产品／过程中失效的潜在技术风险</li>
<li>分析失效的起因和影响</li>
<li>记录预防和探测措施</li>
<li>针对降低风险的措施提出建议</li>
</ul>
<p>制造商考虑的风险类型很多，包括技术风险、财务风险、时间风险和战略风险。FMEA 仅用千分析技术风险，从而减少失效、提高产品和过程的安全性。</p>
<p><img src="/img/%E9%9D%99%E6%80%81%E6%B5%8B%E8%AF%95%E4%B8%8EFMEA/1.png" alt="图1"></p>
<h2 id="二-FMEA的目标和限制"><a href="#二-FMEA的目标和限制" class="headerlink" title="二.FMEA的目标和限制"></a>二.FMEA的目标和限制</h2><p>FMEA 的目标是识别产品的功能或过程步骤、以及相关的潜在失效模式、影响和起因。<br>此外，它还用于评估计划中的预防和探测措施是否是充分的，以推荐额外的措施。对千采取的措施， FMEA 将形成文件并跟踪这些措施的实施情况，以降低风险。<br>FMEA 方法可帮助工程师将各种事项按重要性排序，并将重点放在产品或过程中发生问题的预防上。</p>
<p>FMEA 具有以下局限性：</p>
<ul>
<li>定性（主观的） ， 非定掀（可测量的）</li>
<li>单点失效分析，非多点失效分析</li>
<li>依赖团队的知识水平， 可能预测、也可能无法预测未来的性能</li>
<li>团队成员对他们讨论的内容和决定自行总结， 因此， FMEA报告的质量取决于团队的文字记录能力，所做的记录可能全面，也可能不全面（该记录不是会议记录）</li>
</ul>
<p>FTA (故障树分析）和FMEDA (失效模式、影响和诊断分析）等其他方法可用于定量分析和多点失效分析。这些方法可以计算和分析相关指标（单点失效分析、多点故障、潜在故障），从而得出量化分析结果。</p>
<p>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/ucourse/article/details/125062088">跳转（1）</a><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_41653350/article/details/125405104">跳转（2）</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/10/08/%E9%9D%99%E6%80%81%E6%B5%8B%E8%AF%95%E4%B8%8EFMEA/" data-id="clwdo6phe0039k4tx3lxqhmtn" data-title="静态测试与FMEA" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/" rel="tag">专业知识</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-二叉树的遍历" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/19/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/" class="article-date">
  <time class="dt-published" datetime="2022-09-19T02:44:23.000Z" itemprop="datePublished">2022-09-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/19/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/">二叉树的遍历</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="一-已知前序中序求后序"><a href="#一-已知前序中序求后序" class="headerlink" title="一.已知前序中序求后序"></a>一.已知前序中序求后序</h1><p><strong>背景</strong>：已知一颗二叉树的前序和中序遍历，求该二叉树的后序遍历。</p>
<p><strong>分析</strong>：通过前序遍历可以找出当前二叉树点的根（即前序遍历中第一个位置的值），然后可以在中序遍历中找出当前二叉树的根所在的位置，此时可以得到左子树和右子树的大小，于是可以继续递归下去操作。</p>
<p><strong>例如</strong>：</p>
<pre><code>           1) 前序遍历：1 2 3 4 5 6 7
           2) 中序遍历：4 3 5 2 6 1 7
</code></pre>
<p>先找出前序遍历的根<code>1</code>，然后在中序遍历中找到<code>1</code>的位置。</p>
<ol>
<li>前序遍历：【1】2 3 4 5 6 7</li>
<li>中序遍历：4 3 5 2 6 【1】7</li>
</ol>
<p>所以“4 3 5 2 6”这些数都是在以<code>1</code>为根的左子树里面，<code>7</code>是在以<code>1</code>为根的右子树里面。</p>
<p>因此，可以在前序遍历中提取出“2 3 4 5 6”这个区间作为左子树的前序遍历，<code>7</code>这个区间作为右子树的前序遍历。然后递归的时候按照后序遍历的顺序输出根结点的值即可。于是可以递归求解：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> l1,<span class="type">int</span> r1,<span class="type">int</span> l2,<span class="type">int</span> r2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = l2;i &lt;= r2;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b[i] == a[l1])&#123;</span><br><span class="line">			<span class="built_in">build</span>(l1 + <span class="number">1</span>,l1 + i - l2,l2,i - <span class="number">1</span>);<span class="comment">//前序的第一个结点是根结点，所以l1需要加上1</span></span><br><span class="line">			<span class="built_in">build</span>(l1 + i - l2 + <span class="number">1</span>,r1,i + <span class="number">1</span>,r2);</span><br><span class="line">            cout&lt;&lt;a[l1]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>经典例题</strong></p>
<p>洛谷：<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1827">P1827 [USACO3.4] 美国血统 American Heritage</a></p>
<p><strong>题目描述</strong></p>
<p>农夫约翰非常认真地对待他的奶牛们的血统。然而他不是一个真正优秀的记帐员。他把他的奶牛 们的家谱作成二叉树，并且把二叉树以更线性的“树的中序遍历”和“树的前序遍历”的符号加以记录而 不是用图形的方法。</p>
<p>你的任务是在被给予奶牛家谱的“树中序遍历”和“树前序遍历”的符号后，创建奶牛家谱的“树的 后序遍历”的符号。每一头奶牛的姓名被译为一个唯一的字母。（你可能已经知道你可以在知道树的两 种遍历以后可以经常地重建这棵树。）显然，这里的树不会有多于 26 个的顶点。 这是在样例输入和 样例输出中的树的图形表达方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">　　　　　　　　 C</span><br><span class="line">　　　　　　   /  \</span><br><span class="line">　　　　　　  /　　\</span><br><span class="line">　　　　　　 B　　  G</span><br><span class="line">　　　　　　/ \　　/</span><br><span class="line">　　　　   A   D  H</span><br><span class="line">　　　　　　  / \</span><br><span class="line">　　　　　　 E   F</span><br></pre></td></tr></table></figure>

<p>树的中序遍历是按照左子树，根，右子树的顺序访问节点。</p>
<p>树的前序遍历是按照根，左子树，右子树的顺序访问节点。</p>
<p>树的后序遍历是按照左子树，右子树，根的顺序访问节点。</p>
<p><strong>输入格式</strong></p>
<p>第一行： 树的中序遍历</p>
<p>第二行： 同样的树的前序遍历</p>
<p><strong>输出格式</strong></p>
<p>单独的一行表示该树的后序遍历。</p>
<p><strong>输入输出样例</strong></p>
<p><strong>输入 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ABEDFCHG</span><br><span class="line">CBADEFGH </span><br></pre></td></tr></table></figure>

<p><strong>输出 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AEFDBHGC</span><br></pre></td></tr></table></figure>

<p><strong>说明&#x2F;提示</strong></p>
<p>题目翻译来自NOCOW。</p>
<p>USACO Training Section 3.4</p>
<p><strong>参考代码</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 200010</span></span><br><span class="line"></span><br><span class="line">string a,b;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> l1,<span class="type">int</span> r1,<span class="type">int</span> l2,<span class="type">int</span> r2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l1 &gt; r1 || l2 &gt; r2)<span class="keyword">return</span>;<span class="comment">//边界条件</span></span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="type">int</span> i = b.<span class="built_in">find</span>(a[l1]);<span class="comment">//此处也可以不用find用循环</span></span><br><span class="line">	<span class="built_in">build</span>(l1 + <span class="number">1</span>,l1 + i - l2,l2,i - <span class="number">1</span>);<span class="comment">//遍历左子树</span></span><br><span class="line">	<span class="built_in">build</span>(l1 + i - l2 + <span class="number">1</span>,r1,i + <span class="number">1</span>,r2);<span class="comment">//遍历右子树</span></span><br><span class="line">	cout&lt;&lt;a[l1];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;b&gt;&gt;a;<span class="comment">//注意先读入的是中序，然后是前序，所以要反序读入</span></span><br><span class="line">	<span class="type">int</span> l = a.<span class="built_in">length</span>();</span><br><span class="line">	<span class="built_in">build</span>(<span class="number">0</span>,l - <span class="number">1</span>,<span class="number">0</span>,l - <span class="number">1</span>);<span class="comment">//因为是从0开始，所以将l减一</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 200010</span></span><br><span class="line"></span><br><span class="line">string a,b;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> l1,<span class="type">int</span> r1,<span class="type">int</span> l2,<span class="type">int</span> r2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = l2;i &lt;= r2;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b[i] == a[l1])&#123;</span><br><span class="line">		<span class="built_in">build</span>(l1 + <span class="number">1</span>,l1 + i - l2,l2,i - <span class="number">1</span>);<span class="comment">//遍历左子树</span></span><br><span class="line">		<span class="built_in">build</span>(l1 + i - l2 + <span class="number">1</span>,r1,i + <span class="number">1</span>,r2);<span class="comment">//遍历右子树</span></span><br><span class="line">		cout&lt;&lt;a[l1];</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;b&gt;&gt;a;<span class="comment">//注意先读入的是中序，然后是前序，所以要反序读入</span></span><br><span class="line">	<span class="type">int</span> l = a.<span class="built_in">length</span>();</span><br><span class="line">	<span class="built_in">build</span>(<span class="number">0</span>,l - <span class="number">1</span>,<span class="number">0</span>,l - <span class="number">1</span>);<span class="comment">//因为是从0开始，所以将l减一</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="二-已知中序后序求前序"><a href="#二-已知中序后序求前序" class="headerlink" title="二.已知中序后序求前序"></a>二.已知中序后序求前序</h1><p>做法大致与上述相同，后序序列的最后一个元素即为根节点，将其找出后标记，接下来的步骤基本同上所述。因为是求前序，所以要在前面先将结点输出。</p>
<p><strong>例</strong>：已知一颗二叉树中序为<code>ABCDEFG</code>，后序为<code>ACBFGED</code>，求其前序。</p>
<p><strong>参考代码</strong>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 200010</span></span><br><span class="line"></span><br><span class="line">string a,b;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> l1,<span class="type">int</span> r1,<span class="type">int</span> l2,<span class="type">int</span> r2)</span></span>&#123;<span class="comment">//l1,r1是后序的范围，l2,r2是中序的范围</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = l2;i &lt;= r2;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b[i] == a[r1])&#123;</span><br><span class="line">			cout&lt;&lt;a[r1];</span><br><span class="line">	<span class="built_in">build</span>(l1,r1 - r2 + i - <span class="number">1</span>,l2,i - <span class="number">1</span>);<span class="comment">//遍历左子树</span></span><br><span class="line">	<span class="built_in">build</span>(r1 - r2 + i,r1 - <span class="number">1</span>,i + <span class="number">1</span>,r2);<span class="comment">//遍历右子树</span></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;a&gt;&gt;b;<span class="comment">//注意先读入的是后序，然后是中序，所以要反序读入</span></span><br><span class="line">	<span class="type">int</span> l = a.<span class="built_in">length</span>();</span><br><span class="line">	<span class="built_in">build</span>(<span class="number">0</span>,l - <span class="number">1</span>,<span class="number">0</span>,l - <span class="number">1</span>);<span class="comment">//因为是从0开始，所以将l减一</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>洛谷: <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1030"><strong>P1030 [NOIP2001 普及组] 求先序排列</strong></a></p>
<p><strong>题目描述</strong></p>
<p>给出一棵二叉树的中序与后序排列。求出它的先序排列。（约定树结点用不同的大写字母表示，且二叉树的节点个数 \le 8≤8）。</p>
<p><strong>输入格式</strong></p>
<p>共两行，均为大写字母组成的字符串，表示一棵二叉树的中序与后序排列。</p>
<p><strong>输出格式</strong></p>
<p>共一行一个字符串，表示一棵二叉树的先序。</p>
<p><strong>输入输出样例</strong></p>
<p><strong>输入 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BADC</span><br><span class="line">BDCA</span><br></pre></td></tr></table></figure>

<p><strong>输出 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ABCD</span><br></pre></td></tr></table></figure>

<p><strong>说明&#x2F;提示</strong></p>
<p><strong>【题目来源】</strong></p>
<p>NOIP 2001 普及组第三题</p>
<p><strong>参考代码</strong>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line">string a,b;<span class="comment">//a是后序，b是中序</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> l1,<span class="type">int</span> r1,<span class="type">int</span> l2,<span class="type">int</span> r2)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = l2;i &lt;= r2;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b[i] == a[r1])&#123;</span><br><span class="line">			cout&lt;&lt;a[r1];</span><br><span class="line">			<span class="built_in">build</span>(l1,r1 - r2 + i - <span class="number">1</span>,l2,i - <span class="number">1</span>);</span><br><span class="line">			<span class="built_in">build</span>(r1 + i - l2,r1 - <span class="number">1</span>,i + <span class="number">1</span>,r2);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin&gt;&gt;b&gt;&gt;a;</span><br><span class="line">	<span class="type">int</span> l = b.<span class="built_in">length</span>() - <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">build</span>(<span class="number">0</span>,l,<span class="number">0</span>,l);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/19/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/" data-id="clwdo6phb002sk4txazjk8zsr" data-title="二叉树的遍历" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前缀和与差分" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/08/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/" class="article-date">
  <time class="dt-published" datetime="2022-09-08T09:39:57.000Z" itemprop="datePublished">2022-09-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/08/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/">前缀和与差分</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前缀和与差分"><a href="#前缀和与差分" class="headerlink" title="前缀和与差分"></a>前缀和与差分</h1><p>概念：前缀和是指某序列的前n项和，可以把它理解为数学上的数列的前n项和，而差分可以看成前缀和的逆运算。合理的使用前缀和与差分，可以将某些复杂的问题简单化。</p>
<h2 id="前缀和算法有什么好处"><a href="#前缀和算法有什么好处" class="headerlink" title="前缀和算法有什么好处"></a>前缀和算法有什么好处</h2><p><strong>先来了解这样一个问题：</strong></p>
<p>输入一个长度为<code>n</code>的整数序列。接下来再输入<code>m</code>个询问，每个询问输入一对<code>l</code>, <code>r</code>。对于每个询问，输出原序列中从第<code>l</code>个数到第<code>r</code>个数的和。</p>
<p>我们很容易想出暴力解法，遍历区间求和。</p>
<p>这样的时间复杂度为<code>O(n * m)</code>，如果<code>n</code>和<code>m</code>的数据量稍微大一点就有可能超时，而我们如果使用前缀和的方法来做的话就能够将时间复杂度降到<code>O(n + m)</code>，大大提高了运算效率。</p>
<h2 id="一维前缀和"><a href="#一维前缀和" class="headerlink" title="一维前缀和"></a>一维前缀和</h2><p>首先进行一个预处理，定义一个arr和sum数组，arr表示需要处理的数组，sum表示arr中前i个数的和</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">5</span>；</span><br><span class="line"><span class="type">int</span> sum[N], arr[N] = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>&#125;; </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">&#123; </span><br><span class="line">    sum[i] = sum[i - <span class="number">1</span>] + arr[i];   </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询时进行操作：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">cout&lt;&lt;sum[r] - sum[l - <span class="number">1</span>]&lt;&lt;endl;</span><br></pre></td></tr></table></figure>

<p>可以发现，当<code>l &lt; 1</code>时会发生数组越界，所以当<code>l == 0</code> 时，所求的即为<code>sum[r]</code>。</p>
<p>所以我们可以写出get_sum宏定义：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> get_sum (L?sum[R] - sum[L - 1] : sum[R])</span></span><br></pre></td></tr></table></figure>

<p>或者get_sum函数：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">get_sum</span><span class="params">(<span class="type">int</span> L,<span class="type">int</span> R)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L) <span class="keyword">return</span> sum[R] - sum[L - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> sum[R];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="一维差分"><a href="#一维差分" class="headerlink" title="一维差分"></a>一维差分</h2><p><strong>差分数组：</strong></p>
<p>首先给定一个原数组<code>a</code>：<code>a[1], a[2], a[3],,,,,, a[n];</code></p>
<p>然后我们构造一个数组<code>b</code> ： <code>b[1], b[2], b[3],,,,,, b[i];</code></p>
<p>使得 <code>a[i] = b[1] + b[2] + b[3] + ,,,,,, + b[i]</code></p>
<p>也就是说，<code>a</code>数组是<code>b</code>数组的前缀和数组，反过来我们把<code>b</code>数组叫做<code>a</code>数组的<strong>差分数组</strong>。换句话说，每一个<code>a[i]</code>都是<code>b</code>数组中从头开始的一段区间和。</p>
<p><strong>差分数组的构造</strong>：</p>
<blockquote>
<p><code>b[0] = a[0 ]= 0</code>;</p>
<p><code>b[1] = a[1] - a[0]</code>;</p>
<p><code>b[2] = a[2] - a[1]</code>;</p>
<p><code>b[3] = a [3] - a[2]</code>;</p>
<p>……..</p>
<p><code>b[n] = a[n] - a[n - 1]</code>;</p>
</blockquote>
<p><strong>同样引入这样一个问题：</strong></p>
<p>输入一个长度为<code>n</code>的整数序列。接下来再输入<code>m</code>个操作，每个操作输入一对<code>l</code>, <code>r</code>,<code>v</code>。对于每个操作，将原序列中第<code>l</code>个数到第<code>r</code>个数都加上<code>v</code>，最后在输入操作后的数组的所有元素。</p>
<p>同样，用暴力法解题时，时间复杂度为<code>O(n * m)</code>，与上个问题同理。</p>
<p>始终要记得，a数组是b数组的前缀和数组，比如对b数组的b[i]的修改，会影响到a数组中从a[i]及往后的每一个数。</p>
<p>首先让差分b数组中的 b[l] + v ,通过前缀和运算，a数组变成 a[l] + v ,a[l + 1] + v,,,,,, a[n] + v;</p>
<p>然后我们打个补丁，b[r + 1] - v, 通过前缀和运算，a数组变成 a[r + 1] - v,a[r + 2] - v,,,,,,,a[n] - v;</p>
<p><img src="/img/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/1.png" alt="图1"></p>
<p>b[l] + v，效果使得a数组中 a[l] 及以后的数都加上了v(红色部分)，但我们只要求l到r 区间加上 v, 因此还需要执行 b[r + 1] - v,让a数组中 a[r + 1]及往后的区间再减去v(绿色部分)，这样对于a[r] 以后区间的数相当于没有发生改变。</p>
<p>因此我们得出一维差分结论：给a数组中的[ l, r] 区间中的每一个数都加上v,只需对差分数组b做 b[l] + &#x3D; v, b[r+1] - &#x3D; v 。时间复杂度为O(1), 大大提高了效率。</p>
<p><strong>代码：</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 1000010</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> b[<span class="number">6</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">	b[l] += v;</span><br><span class="line">	b[r + <span class="number">1</span>] -= v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">2</span>&#125;;</span><br><span class="line">	<span class="built_in">add</span>(<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">	<span class="built_in">add</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>);</span><br><span class="line">	<span class="built_in">add</span>(<span class="number">0</span>,<span class="number">2</span>,<span class="number">-3</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; <span class="number">5</span>;i++)b[i] += b[i - <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line">		a[i] += b[i];</span><br><span class="line">		cout&lt;&lt;a[i]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二维前缀和"><a href="#二维前缀和" class="headerlink" title="二维前缀和"></a>二维前缀和</h2><p>先给出问题：</p>
<p>输入一个<code>n</code>行<code>m</code>列的整数矩阵，再输入<code>q</code>个询问，每个询问包含四个整数<code>x1</code>, <code>y1</code>, <code>x2</code>, <code>y2</code>，表示一个子矩阵的左上角坐标和右下角坐标。对于每个询问输出子矩阵中所有数的和。</p>
<p>同一维前缀和一样，我们先来定义一个二维数组<code>s[][]</code> , <code>s[i][j]</code> 表示二维数组中，左上角<code>(1, 1)</code>到右下角<code>(i, j)</code>所包围的矩阵元素的和。接下来推导二维前缀和的公式。</p>
<p>先看一张图：<br><img src="/img/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/2.png" alt="图2"></p>
<p><strong>紫色面积</strong>是指<code>(1, 1)</code>左上角到<code>(i, j - 1)</code>右下角的矩形面积, <strong>绿色面积</strong>是指<code>(1, 1)</code>左上角到<code>(i - 1, j )</code>右下角的矩形面积。<strong>每一个颜色的矩形面积都代表了它所包围元素的和。</strong></p>
<p><img src="/img/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/3.png" alt="图3"></p>
<p>从图中我们很容易看出，整个外围蓝色矩形面积<code>s[i][j]</code> &#x3D; 绿色面积<code>s[i -1][j]</code> + 紫色面积<code>s[i][j - 1]</code>- 重复加的红色的面积<code>s[i - 1][j - 1]</code> + 小方块的面积<code>a[i][j]</code>;</p>
<p>因此得出二维前缀和预处理公式</p>
<p><code>s[i][j]</code> &#x3D; <code>s[i - 1][j]</code> +<code> s[i][j - 1 ]</code> + <code>a[i] [j]</code> - <code>s[i - 1][j - 1]</code></p>
<p>接下来回归问题去求以(x1,y1)为左上角和以(x2,y2)为右下角的矩阵的元素的和。</p>
<p>如图：</p>
<p><img src="/img/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/4.png" alt="图4"></p>
<p><strong>紫色面积</strong>是指 <code>(1, 1)</code>左上角到<code>(x1 - 1, y2)</code>右下角的矩形面积 ，<strong>黄色面积</strong>是指<code>(1, 1)</code>左上角到<code>(x2, y1 - 1)</code>右下角的矩形面积；</p>
<p><strong>不难推出：</strong></p>
<p><img src="/img/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/5.png" alt="图5"></p>
<p>绿色矩形的面积 &#x3D; 整个外围面积<code>s[x2, y2]</code> - 黄色面积<code>s[x2, y1 - 1]</code> - 紫色面积<code>s[x1 - 1, y2]</code> + 重复减去的红色面积 <code>s[x1 - 1, y1 - 1]</code></p>
<p><strong>因此二维前缀和的结论为：</strong></p>
<p>以<code>(x1, y1)</code>为左上角，<code>(x2, y2)</code>为右下角的子矩阵的和为：<br><code>s[x2, y2] - s[x1 - 1, y2] - s[x2, y1 - 1] + s[x1 - 1, y1 - 1]</code></p>
<p><strong>代码：</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> n = <span class="number">3</span>,m = <span class="number">4</span>;</span><br><span class="line"><span class="type">int</span> g[n][m] = &#123; &#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>&#125;,</span><br><span class="line">                &#123;<span class="number">9</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>&#125;,</span><br><span class="line">                &#123;<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>&#125;&#125;;</span><br><span class="line"><span class="type">int</span> sum[n][m];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre_sum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    sum[<span class="number">0</span>][<span class="number">0</span>] = g[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i++)sum[i][<span class="number">0</span>] = sum[i - <span class="number">1</span>][<span class="number">0</span>] + g[i][<span class="number">0</span>];<span class="comment">//第一行</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; m;i++)sum[<span class="number">0</span>][i] = sum[<span class="number">0</span>][i - <span class="number">1</span>] + g[<span class="number">0</span>][i];<span class="comment">//第一列</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i++)<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt; m;j++)</span><br><span class="line">    sum[i][j] = g[i][j] + sum[i - <span class="number">1</span>][j] + sum[i][j - <span class="number">1</span>] - sum[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">get_sum</span><span class="params">(<span class="type">int</span> x1,<span class="type">int</span> y1,<span class="type">int</span> x2,<span class="type">int</span> y2,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="comment">//处理直接为本身的情况 </span></span><br><span class="line">    <span class="keyword">if</span>(!x1 &amp;&amp; !y1)<span class="keyword">return</span> sum[x2][y2];</span><br><span class="line">    <span class="comment">//处理一维前缀和的情况</span></span><br><span class="line">    <span class="keyword">if</span>(!x1)<span class="keyword">return</span> sum[x2][y2] - sum[x2][y1 - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span>(!y1)<span class="keyword">return</span> sum[x2][y2] - sum[x1 - <span class="number">1</span>][y2];</span><br><span class="line">    <span class="comment">//处理二维前缀和的情况</span></span><br><span class="line">    <span class="keyword">return</span> sum[x2][y2] - sum[x1 - <span class="number">1</span>][y2] - sum[x2][y1 - <span class="number">1</span>] + sum[x1 - <span class="number">1</span>][y1 - <span class="number">1</span>]; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">pre_sum</span>();</span><br><span class="line">    cout&lt;&lt;<span class="built_in">get_sum</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>)&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;<span class="built_in">get_sum</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二维差分"><a href="#二维差分" class="headerlink" title="二维差分"></a>二维差分</h2><p>如果扩展到二维，我们需要让二维数组被选中的子矩阵中的每个元素的值加上<code>v</code>,是否也可以达到<code>O(1)</code>的时间复杂度。答案是可以的，<strong>考虑二维差分</strong>。</p>
<p><code>g[][]</code>数组是<code>d[][]</code>数组的前缀和数组，那么<code>d[][]</code>是<code>g[][]</code>的差分数组</p>
<p>原数组： <code>g[i][j]</code></p>
<p>我们去构造差分数组： <code>d[i][j]</code></p>
<p>使得<code>g</code>数组中<code>g[i][j]</code>是d数组左上角<code>(1,1)</code>到右下角<code>(i,j)</code>所包围矩形元素的和。</p>
<p><strong>如何构造<code>d[][]</code>数组呢？</strong></p>
<p>其实关于差分数组，我们并不用考虑其构造方法，因为我们使用差分操作在对原数组进行修改的过程中，实际上就可以构造出差分数组。</p>
<p>同一维差分，我们构造二维差分数组目的是为了 让原二维数组<code>g</code>中所选中子矩阵中的每一个元素加上<code>v</code>的操作，可以由<code>O(n*n)</code>的时间复杂度优化成<code>O(1)</code></p>
<p>已知原数组<code>g</code>中被选中的子矩阵为 以<code>(x1,y1)</code>为左上角，以<code>(x2,y2)</code>为右下角所围成的矩形区域;</p>
<p><strong>始终要记得，g数组是d数组的前缀和数组</strong>，比如对<code>d</code>数组的<code>d[i][j]</code>的修改，会影响到<code>g</code>数组中从<code>g[i][j]</code>及往后的每一个数。</p>
<p>假定我们已经构造好了<code>d</code>数组，类比一维差分，我们执行以下操作<br>来使被选中的子矩阵中的每个元素的值加上<code>v</code></p>
<p><code>d[x1][y1]</code> + &#x3D; v ;</p>
<p><code>d[x1,][y2+1]</code> - &#x3D; v;</p>
<p><code>d[x2+1][y1]</code> - &#x3D; v;</p>
<p><code>d[x2+1][y2+1]</code> + &#x3D; v;</p>
<p>每次对d数组执行以上操作，等价于：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = x1;i &lt;= x2;i++)</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> j = y1;j &lt;= y2;j++)</span><br><span class="line">    g[i][j] += v;</span><br></pre></td></tr></table></figure>

<p><strong>我们画个图去理解一下这个过程：</strong></p>
<p><img src="/img/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/6.png" alt="图6"></p>
<p><code>d[x1][y1]</code> +&#x3D; v ; 对应图1 ,让整个g数组中蓝色矩形面积的元素都加上了v。<br><code>d[x1,][y2 + 1]</code> -&#x3D; v ; 对应图2 ,让整个g数组中绿色矩形面积的元素再减去v，使其内元素不发生改变。<br><code>d[x2 + 1][y1]</code> -&#x3D; v ; 对应图3 ,让整个g数组中紫色矩形面积的元素再减去v，使其内元素不发生改变。<br><code>d[x2 + 1][y2 + 1]</code> +&#x3D; v; 对应图4,让整个g数组中红色矩形面积的元素再加上v，红色内的相当于被减了两次，再加上一次v，才能使其恢复。</p>
<p><img src="/img/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/7.png" alt="图7"></p>
<p><strong>我们将上述操作封装成一个插入函数:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x1,<span class="type">int</span> y1,<span class="type">int</span> x2,<span class="type">int</span> y2,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    d[x1][y1] += v;</span><br><span class="line">    d[x2 + <span class="number">1</span>][y1] -= v;</span><br><span class="line">    d[x1][y2 + <span class="number">1</span>] -= v;</span><br><span class="line">    d[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += v;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以先假想<code>g</code>数组为空，那么<code>d</code>数组一开始也为空，但是实际上<code>g</code>数组并不为空，因此我们每次让以<code>(i,j)</code>为左上角到以<code>(i,j)</code>为右下角面积内元素(其实就是一个小方格的面积)去插入 <code>v = g[i][j]</code> ，等价于原数组g中<code>(i,j)</code> 到<code>(i,j)</code>范围内 加上了 <code>g[i][j]</code> ,因此执行 <code>n*m</code>次插入操作，就成功构建了差分<code>d</code>数组.</p>
<p>当然关于二维差分操作也有直接的构造方法，<strong>公式如下：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">d[i][j] = g[i][j] − g[i − 1][j] − g[i][j − 1] + g[i −1 ][j − 1]</span><br></pre></td></tr></table></figure>

<p>二维差分数组的构造同一维差分思维相同，因次在这里就不再展开叙述了。</p>
<p><strong>代码</strong>：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> n = <span class="number">3</span>,m = <span class="number">4</span>;</span><br><span class="line"><span class="type">int</span> g[n][m] = &#123; &#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>&#125;,</span><br><span class="line">                &#123;<span class="number">9</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>&#125;,</span><br><span class="line">                &#123;<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>&#125;&#125;;</span><br><span class="line"><span class="type">int</span> sum[n][m];</span><br><span class="line"><span class="type">int</span> d[n + <span class="number">1</span>][m + <span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre_sum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    sum[<span class="number">0</span>][<span class="number">0</span>] = d[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i++)sum[i][<span class="number">0</span>] = sum[i - <span class="number">1</span>][<span class="number">0</span>] + d[i][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; m;i++)sum[<span class="number">0</span>][i] = sum[<span class="number">0</span>][i - <span class="number">1</span>] + d[<span class="number">0</span>][i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i++)<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt; m;j++)</span><br><span class="line">    sum[i][j] = d[i][j] + sum[i - <span class="number">1</span>][j] + sum[i][j - <span class="number">1</span>] - sum[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m;j++)</span><br><span class="line">    g[i][j] += sum[i][j];</span><br><span class="line">    <span class="built_in">memset</span>(d,<span class="number">0</span>,<span class="built_in">sizeof</span>(d));</span><br><span class="line">    <span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="built_in">sizeof</span>(sum));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++,<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>))</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m;j++)cout&lt;&lt;g[i][j]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x1,<span class="type">int</span> y1,<span class="type">int</span> x2,<span class="type">int</span> y2,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    d[x1][y1] += v;</span><br><span class="line">    d[x2 + <span class="number">1</span>][y1] -= v;</span><br><span class="line">    d[x1][y2 + <span class="number">1</span>] -= v;</span><br><span class="line">    d[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printD</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n + <span class="number">1</span>;i++,<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>))</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; m + <span class="number">1</span>;j++)cout&lt;&lt;d[i][j]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">add</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">add</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line">    <span class="comment">// printD();</span></span><br><span class="line">    <span class="built_in">pre_sum</span>();</span><br><span class="line">    <span class="built_in">print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h2><h3 id="洛谷P3397-地毯"><a href="#洛谷P3397-地毯" class="headerlink" title="洛谷P3397 地毯"></a>洛谷P3397 地毯</h3><h4 id="题目背景"><a href="#题目背景" class="headerlink" title="题目背景"></a>题目背景</h4><p>此题约为NOIP提高组Day2T1难度。</p>
<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p>在n×n 的格子上有 m 个地毯。</p>
<p>给出这些地毯的信息，问每个点被多少个地毯覆盖。</p>
<h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h4><p>第一行，两个正整数 n,m。意义如题所述。</p>
<p>接下来 m 行，每行两个坐标 (x1,y1) 和(x*2,<em>y</em>2)，代表一块地毯，左上角是 (*x1,y1)，右下角是 (x2,y2)。</p>
<h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>输出 n 行，每行 n 个正整数。</p>
<p>第 i 行第 j 列的正整数表示 (i,j) 这个格子被多少个地毯覆盖。</p>
<h4 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h4><p><strong>输入 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">5 3</span><br><span class="line">2 2 3 3</span><br><span class="line">3 3 5 5</span><br><span class="line">1 2 1 4</span><br></pre></td></tr></table></figure>

<p><strong>输出 #1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 1 1 1 0</span><br><span class="line">0 1 1 0 0</span><br><span class="line">0 1 2 1 1</span><br><span class="line">0 0 1 1 1</span><br><span class="line">0 0 1 1 1</span><br></pre></td></tr></table></figure>

<h4 id="说明-提示"><a href="#说明-提示" class="headerlink" title="说明&#x2F;提示"></a>说明&#x2F;提示</h4><h5 id="样例解释"><a href="#样例解释" class="headerlink" title="样例解释"></a>样例解释</h5><p>覆盖第一个地毯后：</p>
<table>
<thead>
<tr>
<th align="center">00</th>
<th align="center">00</th>
<th align="center">00</th>
<th align="center">00</th>
<th align="center">00</th>
</tr>
</thead>
<tbody><tr>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">00</td>
<td align="center">00</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">00</td>
<td align="center">00</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">00</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">00</td>
</tr>
</tbody></table>
<p>覆盖第一、二个地毯后：</p>
<table>
<thead>
<tr>
<th align="center">00</th>
<th align="center">00</th>
<th align="center">00</th>
<th align="center">00</th>
<th align="center">00</th>
</tr>
</thead>
<tbody><tr>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">00</td>
<td align="center">00</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">22</td>
<td align="center">11</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">11</td>
</tr>
</tbody></table>
<p>覆盖所有地毯后：</p>
<table>
<thead>
<tr>
<th align="center">00</th>
<th align="center">11</th>
<th align="center">11</th>
<th align="center">11</th>
<th align="center">00</th>
</tr>
</thead>
<tbody><tr>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">00</td>
<td align="center">00</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">22</td>
<td align="center">11</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">00</td>
<td align="center">00</td>
<td align="center">11</td>
<td align="center">11</td>
<td align="center">11</td>
</tr>
</tbody></table>
<hr>
<h4 id="数据范围"><a href="#数据范围" class="headerlink" title="数据范围"></a>数据范围</h4><p>对于 20%20% 的数据，有 n\le 50<em>n</em>≤50，m\le 100<em>m</em>≤100。</p>
<p>对于 100%100% 的数据，有 n,m\le 1000<em>n</em>,<em>m</em>≤1000。</p>
<h4 id="题目分析"><a href="#题目分析" class="headerlink" title="题目分析"></a>题目分析</h4><p>题意很明确，根据题意，我们可以推断出这道题考查的是二维差分（当然暴力也能过，毕竟最大值太小了），所以直接套用模板答题。但此处需要注意的是，<strong>数组的下标是从1开始的</strong>，所以可以将输入的坐标进行预处理之后再传入函数。</p>
<h4 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> maxn 1001</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[maxn][maxn],b[maxn][maxn],sum[maxn][maxn];</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre_sum</span><span class="params">()</span></span>&#123;</span><br><span class="line">	sum[<span class="number">0</span>][<span class="number">0</span>] = b[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i++)sum[i][<span class="number">0</span>] = sum[i - <span class="number">1</span>][<span class="number">0</span>] + b[i][<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i++)sum[<span class="number">0</span>][i] = sum[<span class="number">0</span>][i - <span class="number">1</span>] + b[<span class="number">0</span>][i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt; n;i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>;j &lt; n;j++)</span><br><span class="line">			sum[i][j] = b[i][j] + sum[i - <span class="number">1</span>][j] + sum[i][j - <span class="number">1</span>] - sum[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">		a[i][j] += sum[i][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x1,<span class="type">int</span> y1,<span class="type">int</span> x2,<span class="type">int</span> y2)</span></span>&#123;</span><br><span class="line">	b[x1][y1] += <span class="number">1</span>;</span><br><span class="line">	b[x2 + <span class="number">1</span>][y1] -= <span class="number">1</span>;</span><br><span class="line">	b[x1][y2 + <span class="number">1</span>] -= <span class="number">1</span>;</span><br><span class="line">	b[x2 + <span class="number">1</span>][y2 + <span class="number">1</span>] += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++,<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>))</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j &lt; n;j++)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i][j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%lld %lld&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; m;i++)&#123;</span><br><span class="line">		<span class="type">int</span> x1,y1,x2,y2;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%lld %lld %lld %lld&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2);</span><br><span class="line">		<span class="built_in">add</span>(x1 - <span class="number">1</span>,y1 - <span class="number">1</span>,x2 - <span class="number">1</span>,y2 - <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">pre_sum</span>();</span><br><span class="line">	<span class="built_in">print</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/08/%E5%89%8D%E7%BC%80%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86/" data-id="clwdo6phb002uk4txb0cxbtp1" data-title="前缀和与差分" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-VS-Code常用快捷键" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/04/VS-Code%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="article-date">
  <time class="dt-published" datetime="2022-09-04T02:54:31.000Z" itemprop="datePublished">2022-09-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E5%B7%A7/">技巧</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/04/VS-Code%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/">VS Code常用快捷键</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="VS-Code快捷键常用"><a href="#VS-Code快捷键常用" class="headerlink" title="VS Code快捷键常用"></a>VS Code快捷键常用</h1><ol>
<li>Ctrl + &#x2F;： 注释。</li>
<li>Ctrl + \：快速分屏。</li>
<li>Ctrl + S: 保存</li>
<li>!(英文感叹号)+TAB: 快速形成代码框架</li>
<li>双击内容可以选中标签里的单词。</li>
<li>Ctrl + L：选中当前行。</li>
<li>Ctrl + F：搜索。</li>
<li>Ctrl + H：替换。</li>
<li>Ctrl + 回车：跳转到下一行。</li>
<li>Ctrl + Shift + 回车：在当前行的上面加一行。</li>
<li>Ctrl + table：文件之间的切换</li>
<li>Shift + 上、下、左、右箭头：选中多行</li>
<li>Ctrl + W：关闭当前打开的 VS code 页面</li>
<li>Ctrl + B：打开&#x2F;关闭左边侧栏。</li>
<li>Ctrl + 加号（+）：放大VS Code 里的内容。</li>
<li>Ctrl + 减号（-）：缩小VS Code 里的内容。</li>
<li>F11：全屏显示</li>
<li>隐藏 &#x2F; 显示终端：ctrl + &#96; (数字 1 前面的那个键)</li>
<li>代码展开：ctrl + shift + [       代码折叠: ctrl + shift + ]</li>
<li>向上&#x2F;向下复制一行：Shift + Alt + Up&#x2F;Down</li>
<li>跳到指定行：在文件中进行行跳转，你可以使用Ctrl + G ，然后输入要跳转的行号，当然，你也可以使用Ctrl + P，然后输入：和要跳转的行号。</li>
<li>删除上一个词：ctrl + backspace(退格键)</li>
<li>折叠所有文件夹：shift + alt + z (这个指令字自定义的，系统没有默认的。)</li>
<li>选中文件按 F2 快速重命名。</li>
<li>Ctrl + Shift + W：退出整个VS code 软件。</li>
<li>标签快捷键：比如写<code>&lt;h1&gt;&lt;/h1&gt;</code>，我们可以写一个h1然后按TAB键就会出来<code>&lt;h1&gt;&lt;/h1&gt;</code>。</li>
<li>双单词快捷键：取两个单词的首字母 + TAB。如：line-height（行高），输入 lh 然后按TAB就OK了。再如：text-align: center; 输入 tac 然后按 TAB 就可以了。</li>
<li>格式化代码  Shift + Alt + F</li>
<li>单词选中    Ctrl+ d</li>
<li>选中词     Ctrl + Shift + 右键头 &#x2F; 左键头</li>
<li>复制行       Ctrl + Shift + d</li>
<li>删除行        Ctrl + x</li>
<li>块选择       Shift + Alt    按住上面的快捷键，然后拖动鼠标，选择一个文本块，光标会被添加到选中的每一行中。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/09/04/VS-Code%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" data-id="clwdo6pgq000ck4tx1bdbd4cg" data-title="VS Code常用快捷键" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E5%88%86%E4%BA%AB/" rel="tag">个人分享</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-java学习笔记（九）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/04/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B9%9D%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2022-05-04T03:03:35.000Z" itemprop="datePublished">2022-05-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/04/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B9%9D%EF%BC%89/">java学习笔记（九）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="进程与线程（Processes-and-Threads）"><a href="#进程与线程（Processes-and-Threads）" class="headerlink" title="进程与线程（Processes and Threads）"></a>进程与线程（Processes and Threads）</h1><h2 id="一、线程"><a href="#一、线程" class="headerlink" title="一、线程"></a>一、线程</h2><h3 id="1-创建线程两种方式："><a href="#1-创建线程两种方式：" class="headerlink" title="1.创建线程两种方式："></a>1.创建线程两种方式：</h3><ol>
<li>创造一个Thread类的子类。</li>
<li>实现一个可运行接口。</li>
</ol>
<p>例：</p>
<p>MyThread.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;这是线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Main.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">my</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        my.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;这是主线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出为重复的“这是线程\n这是主线程\n”，这里是两个线程在运行。</p>
<p>此时再创建一个MyFrame子类，实现三个线程</p>
<p>MyFrame.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.JFrame;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFrame</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;这是runnable线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyThread.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;这是线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Main.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">my</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        my.start();<span class="comment">//调用start之后，run方法才开始执行</span></span><br><span class="line"></span><br><span class="line">        <span class="type">MyFrame</span> <span class="variable">myF</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyFrame</span>();<span class="comment">//myF是一个可以作为独立线程的实例，咱们创建了这个实例，这时候线程处于就绪状态，它还没有运行</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(myF).start();<span class="comment">//基于runnable接口的线程，它本身没有start方法，需要使用Thread类的start方法来启动它</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;这是主线程&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出类似，这里不做赘述。</p>
<h3 id="2-暂停线程"><a href="#2-暂停线程" class="headerlink" title="2.暂停线程"></a>2.暂停线程</h3><p>使用Thread.sleep()可以暂停线程，括号内是一个数字，表示多少毫秒。用该方法可以防止线程一直不停的运行。</p>
<h3 id="3-同步问题"><a href="#3-同步问题" class="headerlink" title="3.同步问题"></a>3.同步问题</h3><p>两个线程可能在同一个时刻访问同一个资源（可能是一段代码，一个文件，etc.）</p>
<p>例：</p>
<p>Resource.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Resource</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">private</span> Resource instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Resource</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">public</span> Resource <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);<span class="comment">//加上延迟</span></span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;Create instance.&quot;</span>);</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">Resource</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyFrame.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.swing.JFrame;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFrame</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Resource</span> <span class="variable">instance</span> <span class="operator">=</span> Resource.getInstance();</span><br><span class="line">        System.out.println(instance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>MyThread.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Resource</span> <span class="variable">instance</span> <span class="operator">=</span> Resource.getInstance();</span><br><span class="line">        System.out.println(instance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Main.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">my</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        my.start();<span class="comment">//调用start之后，run方法才开始执行</span></span><br><span class="line"></span><br><span class="line">        <span class="type">MyFrame</span> <span class="variable">myF</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyFrame</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(myF).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出为：</p>
<blockquote>
<p>Create instance.<br>com.company.Resource@4ed4e510<br>Create instance.<br>com.company.Resource@1138214c</p>
</blockquote>
<p>两个线程都执行了new Resource()，这种情况在多线程中不会出现。</p>
<p>具有不确定性，两个线程不一定同时访问getInstance()方法。</p>
<p>那么如何解决这个问题呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> Resource <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(instance == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="keyword">try</span>&#123;</span><br><span class="line">               Thread.sleep(<span class="number">200</span>);<span class="comment">//加上延迟</span></span><br><span class="line">           &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           System.out.println(<span class="string">&quot;Create instance.&quot;</span>);</span><br><span class="line">           instance = <span class="keyword">new</span> <span class="title class_">Resource</span>();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> instance;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>可以将这段代码修改为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">public</span> Resource <span class="title function_">getInstance</span><span class="params">()</span>&#123;<span class="comment">//禁止两个线程同时访问getInstance方法</span></span><br><span class="line">        <span class="keyword">if</span>(instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                Thread.sleep(<span class="number">200</span>);<span class="comment">//my线程在这里开始等待，myF也在这里开始等待</span></span><br><span class="line">            &#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;Create instance.&quot;</span>);</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">Resource</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>此时再运行，输出的结果为：</p>
<blockquote>
<p>Create instance.<br>com.company.Resource@1a6dfabe<br>com.company.Resource@1a6dfabe</p>
</blockquote>
<p>发现起到了效果，即禁止了两个线程同时访问同一个资源。</p>
<p>也可以写成这样：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> Resource <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">synchronized</span> (Resource.class) &#123;<span class="comment">//说明下面语句块中的代码是不能同时访问的</span></span><br><span class="line">           <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">               <span class="keyword">try</span> &#123;</span><br><span class="line">                   Thread.sleep(<span class="number">200</span>);</span><br><span class="line">               &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">               &#125;</span><br><span class="line">               System.out.println(<span class="string">&quot;Create instance.&quot;</span>);</span><br><span class="line">               instance = <span class="keyword">new</span> <span class="title class_">Resource</span>();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">return</span> instance;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-wait和notify方法"><a href="#4-wait和notify方法" class="headerlink" title="4.wait和notify方法"></a>4.wait和notify方法</h3><p>作用：让当前线程暂停(wait)，直到该线程被唤醒(notify)。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/04/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B9%9D%EF%BC%89/" data-id="clwdo6ph50028k4tx6fok3n0p" data-title="java学习笔记（九）" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">基础编程语言</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-java学习笔记（八）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/13/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AB%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2022-04-13T02:49:18.000Z" itemprop="datePublished">2022-04-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/13/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AB%EF%BC%89/">java学习笔记（八）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="内部类和异常类"><a href="#内部类和异常类" class="headerlink" title="内部类和异常类"></a>内部类和异常类</h1><h2 id="一、内部类"><a href="#一、内部类" class="headerlink" title="一、内部类"></a>一、内部类</h2><p><strong>定义</strong>：java支持在一个类中声明另一个类，这样的类叫做内部类。</p>
<p><strong>特点</strong>：</p>
<ol>
<li>外嵌类的成员变量在内部类仍然有效。</li>
<li>内部类的方法也可以调用外嵌类中的方法。</li>
<li>内部类的类体中不可以生命类变量和类方法。</li>
<li>外嵌类的类体可以用内部类来声明对象，作为外嵌类成员。</li>
</ol>
<p>例：</p>
<p>People.java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    Student stu;<span class="comment">//声明内部类对象</span></span><br><span class="line">    People()&#123;&#125;</span><br><span class="line">    People(String s) &#123;</span><br><span class="line">        stu = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="number">180</span>, <span class="number">70</span>, <span class="number">18</span>);</span><br><span class="line">        name = s;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowTime</span> <span class="params">()</span> &#123;</span><br><span class="line">            stu.speak();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Student</span> &#123;<span class="comment">//内部类的声明</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">StuName</span> <span class="operator">=</span> <span class="string">&quot;学生&quot;</span>;</span><br><span class="line">            <span class="type">int</span> height, weight, length;</span><br><span class="line"></span><br><span class="line">            Student(<span class="type">int</span> h, <span class="type">int</span> w, <span class="type">int</span> l) &#123;</span><br><span class="line">                height = h;</span><br><span class="line">                weight = w;</span><br><span class="line">                length = l;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">void</span> <span class="title function_">speak</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;我是&quot;</span> + StuName + <span class="string">&quot;,身高&quot;</span> + height + <span class="string">&quot;cm,体重&quot;</span> + weight + <span class="string">&quot;kg,长度&quot;</span> + length + <span class="string">&quot;cm，&quot;</span> + <span class="string">&quot;我是&quot;</span> + name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="comment">//内部类结束</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Main.java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        Scanner in = new Scanner(System.in);</span></span><br><span class="line">    <span class="type">People</span> <span class="variable">people</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">People</span>(<span class="string">&quot;人&quot;</span>);</span><br><span class="line">    people.ShowTime();</span><br><span class="line">    people.stu.speak();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<blockquote>
<p>我是学生,身高180cm,体重70kg,长度18cm，我是人<br>我是学生,身高180cm,体重70kg,长度18cm，我是人</p>
</blockquote>
<h2 id="二、匿名类"><a href="#二、匿名类" class="headerlink" title="二、匿名类"></a>二、匿名类</h2><p><strong>定义：</strong>java允许直接用一个类的子类的类体创建子类对象，也就是说创建子类的时候，除了使用父类的构造方法外还有类体，此类体叫匿名类。</p>
<p><strong>特点</strong>:</p>
<ol>
<li>匿名类是一个子类。</li>
<li>匿名类可以继承父类的方法，也可以重写父类的方法。</li>
<li>匿名类一定是内部类，匿名类类体不能声明static成员变量方法。</li>
<li>匿名类的创建需要经过父类的构造方法，且类名写在后面。</li>
<li>匿名类的常用方式是向方法的参数传值。</li>
</ol>
<h2 id="三、异常类"><a href="#三、异常类" class="headerlink" title="三、异常类"></a>三、异常类</h2><p>Java异常出现在方法调用过程中，即运行过程中出现异常抛出异常对象，终止当前方法执行。</p>
<p>异常对象可以调用以下方法输出异常信息：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printStackTrace</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p>特点：</p>
<ol>
<li>try-catch语句允许多个catch语句。</li>
<li>各个catch中的参数的异常类都是Exception的某个子类。</li>
<li>这些类不能有父子关系，否则保留一个含有父类的参数的catch就行。</li>
<li>java.lang包中的Integer类调用其类方法:</li>
</ol>
<blockquote>
<p>public static int parsenInt(String s)</p>
</blockquote>
<p>可以将字符串s中的数字转化为真正的数字。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String arg[])</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">0</span>,m = <span class="number">0</span>,t = <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        m = Integer.parseInt(<span class="string">&quot;8888&quot;</span>);</span><br><span class="line">        n = Integer.parseInt(<span class="string">&quot;ab89&quot;</span>);</span><br><span class="line">        t = <span class="number">777</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span>(NumberFormatException e)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;发生异常：&quot;</span> + e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出为：</p>
<blockquote>
<p>发生异常：For input string: “ab89”</p>
</blockquote>
<h3 id="finally语句"><a href="#finally语句" class="headerlink" title="finally语句"></a>finally语句</h3><ol>
<li>无论在try部分是否发生异常，finally语句都会执行。</li>
<li>当try-catch语句中执行了return语句，那么fianlly子语句仍然会被执行。</li>
<li>try-catch语句执行了程序退出代码，即执行System.exit(0);则不执行finally语句。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/04/13/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%85%AB%EF%BC%89/" data-id="clwdo6pha002mk4tx4k8oddk8" data-title="java学习笔记（八）" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">基础编程语言</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-java学习笔记（七）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/30/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2022-03-30T01:23:11.000Z" itemprop="datePublished">2022-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/30/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/">java学习笔记（七）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="封装、继承与多态"><a href="#封装、继承与多态" class="headerlink" title="封装、继承与多态"></a>封装、继承与多态</h1><h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>封装是指一种将抽象性函式接口的实现细节部分包装、隐藏起来的方法。</p>
<p><strong>封装的优点</strong>：</p>
<ol>
<li>能够减少耦合。</li>
<li>类内部的结构可以自由修改。</li>
<li>可以对成员变量进行更精确的控制。</li>
<li>隐藏信息，实现细节。</li>
</ol>
<p>下面定义一个类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//封装是指把抽象出的类中的属性，方法的实现细节进行隐藏，只提供给外界接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getname</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getage</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setname</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setage</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里声明了两个私有属性——age和name，同时定义了两个方法，用于对本类中的私有属性进行赋值。</p>
<p>再在主函数中调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">Demo1</span> <span class="variable">demo1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Demo1</span>();</span><br><span class="line">        demo1.setage(<span class="number">18</span>);</span><br><span class="line">        System.out.println(demo1.getage());</span><br><span class="line">        demo1.setname(<span class="string">&quot;Jack&quot;</span>);</span><br><span class="line">        System.out.println(demo1.getname());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里Main类中声明了一个demo1对象，它无法访问Demo1类中的私有成员，这就体现出了封装的思想。这里的set和get方法便是类为外界访问提供的一个接口。</p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>继承是指在现有类的基础上派生出新的类，新类将拥有现有类的属性和行为特征，并且在新类中还可以再增加新的属性和行为特征，这就是程序设计中的继承。</p>
<p><strong>类的继承格式：</strong></p>
<blockquote>
<p>class 父类{</p>
<p>}</p>
<p>class 子类 extends 父类{</p>
<p>}</p>
</blockquote>
<p><strong>注</strong>：1.java中的继承是单继承，子类只能继承一个父类，而父类可以被多个子类所继承。</p>
<p><img src="/img/ex7.png"></p>
<p>2.子类中可以重写父类的方法，需保证方法名，形参和返回值都相同，而方法体里的内容可以不同。</p>
<p>3.重写方法时，子类的访问优先级不能低于父类。</p>
<p>优先级次序（高 -&gt; 低）：public	protected	default	private</p>
<p>例：</p>
<p>先定义一个父类People</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;父类&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;人是需要吃饭的。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;你这个年龄段，我不知道你是怎么能睡着觉的!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;父类的方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>再定义一个子类Student</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;子类&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生不需要吃饭。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name);</span><br><span class="line">        System.out.println(<span class="built_in">super</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print1</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;子类的方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print2</span><span class="params">()</span>&#123;</span><br><span class="line">        print1();</span><br><span class="line">        <span class="built_in">this</span>.print1();</span><br><span class="line">        <span class="built_in">super</span>.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>再在主函数中调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        Scanner in = new Scanner(System.in);</span></span><br><span class="line">        <span class="type">People</span> <span class="variable">people</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">People</span>();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        student.print(<span class="string">&quot;学生&quot;</span>);</span><br><span class="line">        student.print2();</span><br><span class="line">        student.eat();</span><br><span class="line">        people.eat();</span><br><span class="line">        people.sleep();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<blockquote>
<p>学生<br>子类<br>父类<br>子类的方法<br>子类的方法<br>父类的方法<br>学生不需要吃饭。<br>人是需要吃饭的。<br>你这个年龄段，我不知道你是怎么能睡着觉的！</p>
</blockquote>
<p><strong>final关键字</strong></p>
<p>final关键字声明类可以把类定义为不能继承的，即最终类。或者用于修饰方法，该方法不能被子类重写。</p>
<p>声明类：</p>
<blockquote>
<p>final class 类名{类体}</p>
</blockquote>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>多态是同一个行为具有多个不同表现形式或形态的能力。</p>
<p><strong>多态的优点</strong>：</p>
<p>​	1.消除类型之间的耦合关系</p>
<p>​	2.可替换性</p>
<p>​	3.可扩充性</p>
<p>​	4.接口性</p>
<p>​	5.灵活性</p>
<p>​	6.简化性</p>
<p><strong>多态存在的必要条件</strong>：</p>
<p>​	1.继承</p>
<p>​	2.重写</p>
<p>​	3.父类引用指向子类对象</p>
<p><strong>使用</strong>：</p>
<p>在实例化一个子类的对象时，可以把这个对象定于为父类的引用。</p>
<blockquote>
<p>父类名称 对象名 &#x3D; new 子类名称();</p>
</blockquote>
<p>例：</p>
<p>声明一个People类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;人是需要吃饭的。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>再声明一个Student类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生不需要吃饭。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生需要睡觉。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>再声明一个Teacher类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;老师要吃饭的。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里Student类和Teacher类都需要继承People类。</p>
<p>主函数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        Scanner in = new Scanner(System.in);</span></span><br><span class="line">        <span class="type">People</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        s.eat();</span><br><span class="line">        <span class="type">People</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">        t.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<blockquote>
<p>学生不需要吃饭。<br>老师要吃饭的。</p>
</blockquote>
<p><strong>注</strong>：运行以上程序证明，当我们当子类的对象作为父类的引用使用时，只能访问子类中和父类中都有的方法，而无法去访问子类中特有的方法，这是我们就可以强制的把父类的引用对象转换为子类本身的对象进行使用，格式为：子类名称 子类对象名&#x3D;（子类名称）父类对象，添加两行之后的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        Scanner in = new Scanner(System.in);</span></span><br><span class="line">        <span class="type">People</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        s.eat();</span><br><span class="line">        s1.sleep();</span><br><span class="line">        <span class="type">People</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">        t.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/BaoITcore/article/details/120917538">链接一</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_46100493/article/details/106797840">链接二</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/30/java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%83%EF%BC%89/" data-id="clwdo6ph40024k4txa0dndpw3" data-title="java学习笔记（七）" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">基础编程语言</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-html学习笔记（二）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/27/html%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2022-03-27T09:58:12.000Z" itemprop="datePublished">2022-03-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Html/">Html</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/27/html%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/">html学习笔记（二）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="CSS入门"><a href="#CSS入门" class="headerlink" title="CSS入门"></a>CSS入门</h1><h2 id="一-概念"><a href="#一-概念" class="headerlink" title="一.概念"></a>一.概念</h2><p>CSS：Cascading Style Sheet 层叠样式表</p>
<p>是一组样式设置的规则，用于控制页面的外观样式</p>
<h2 id="二-基本用法"><a href="#二-基本用法" class="headerlink" title="二.基本用法"></a>二.基本用法</h2><h3 id="1-css语法"><a href="#1-css语法" class="headerlink" title="1.css语法"></a>1.css语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		选择器&#123;</span><br><span class="line">			属性名：属性值;</span><br><span class="line">			属性名：属性值;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>选择器：要修饰的对象（东西）</p>
<p>属性名：修饰对象的哪一个属性（样式）</p>
<p>属性值：样式的取值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">		<span class="selector-tag">p</span>&#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">color</span>:red;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">background</span>: <span class="number">#cccccc</span>;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">		<span class="selector-tag">h2</span>&#123;</span></span><br><span class="line"><span class="language-css">			<span class="attribute">color</span>:blue;</span></span><br><span class="line"><span class="language-css">		&#125;</span></span><br><span class="line"><span class="language-css">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>CSS从入门到入土<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>开摆！<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参考于<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43331963/article/details/106784229">链接</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/27/html%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/" data-id="clwdo6pgz001ck4tx1b8lhnoc" data-title="html学习笔记（二）" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AJAX/">AJAX</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Axios/">Axios</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Css/">Css</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Html/">Html</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JS/">JS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E5%B7%A7/">技巧</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/" rel="tag">专业知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E5%88%86%E4%BA%AB/" rel="tag">个人分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/" rel="tag">前端学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">基础编程语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Web/" style="font-size: 12px;">Web</a> <a href="/tags/%E4%B8%93%E4%B8%9A%E7%9F%A5%E8%AF%86/" style="font-size: 10px;">专业知识</a> <a href="/tags/%E4%B8%AA%E4%BA%BA%E5%88%86%E4%BA%AB/" style="font-size: 10px;">个人分享</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/" style="font-size: 20px;">前端学习</a> <a href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 18px;">基础编程语言</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 14px;">数据结构</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 16px;">算法</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/11/12/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Vue全家桶学习笔记</a>
          </li>
        
          <li>
            <a href="/2023/11/12/ES6-11%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">ES6-11学习笔记</a>
          </li>
        
          <li>
            <a href="/2023/11/05/JavaScript%E9%AB%98%E7%BA%A7%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">JavaScript高级学习笔记</a>
          </li>
        
          <li>
            <a href="/2023/10/30/Axios%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Axios学习笔记</a>
          </li>
        
          <li>
            <a href="/2023/10/23/AJAX%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">AJAX学习笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>